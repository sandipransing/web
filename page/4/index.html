
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Fun On Rails</title>
  <meta name="author" content="sandipransing">

  
  <meta name="description" content="
  
  
  
    
      
    
      Dynamic methods inside ruby classes
    
    
      
        Dec 22, 2011
        
      
    
  


  Ruby languag...">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://funonrails.com/page/4/">

  <link rel="icon" href="/img/favicon.png">
  <link rel="stylesheet" href="/css/screen.css">

  <link href="http://feeds.feedburner.com/funonrails" rel="alternate" title="Fun On Rails" type="application/atom+xml">
  <script src="/js/modernizr-2.0.js"></script>
  <script   src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-48366424-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
</head>
<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Fun On Rails</a></h1>
  
    <h2>Journal of a Web Developer #ruby #rails #JS</h2>
  
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="http://feeds.feedburner.com/funonrails" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="http://feedburner.google.com/fb/a/mailverify?uri=funonrails&amp;loc=en_US" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="http://funonrails.com">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/contact">Contact</a></li>
  <li><a href="/assets/sandipransing_cv.pdf" target='_blank'>CV</a></li>
  <li><a href="/ruby-on-rails-developers-in-india">ROR devs in india</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/inspirational-quotes-of-the-day">Inspirational Quotes</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2011/12/dynamic-methods-inside-ruby-classes/">Dynamic methods inside ruby classes</a></h1>
    
    
      <p class="meta">
        Dec 22, 2011
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ruby language is dynamic and robust. We can define methods inside ruby classes at runtime.</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">A</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">define_method</span> <span class="ss">:a</span> <span class="k">do</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nb">puts</span> <span class="s2">&ldquo;hello&rdquo;</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">define_method</span> <span class="ss">:greeting</span> <span class="k">do</span> <span class="o">|</span><span class="n">message</span><span class="o">|</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nb">puts</span> <span class="n">message</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="no">A</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">a</span> <span class="c1">#=&gt; hello</span>
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="no">A</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">greeting</span> <span class="s1">&lsquo;Ram ram&rsquo;</span> <span class="c1">#=&gt; Ram ram</span></div></div></pre></div></figure></p>

<p>Can you imagine using dynamic methods below 24 lines of code is optimized to just 8 lines
To know more on below code <a href="http://www.funonrails.com/2011/12/multiple-resources-registrations-with">read</a></p>

<h3>Before code</h3>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">ApplicationController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">protect_from_forgery</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">helper_method</span> <span class="ss">:current_staff</span><span class="p">,</span> <span class="ss">:current_employee</span><span class="p">,</span> <span class="n">current_admin</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">def</span> <span class="nf">authenticate_staff!</span><span class="p">(</span><span class="n">opts</span><span class="o">=</span><span class="p">&#x7b;&#x7d;)</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">current_staff</span> <span class="o">||</span> <span class="n">not_authorized</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">def</span> <span class="nf">current_staff</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">current_user</span> <span class="k">if</span> <span class="n">current_user</span><span class="p">.</span><span class="nf">is_a?</span> <span class="no">Staff</span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">def</span> <span class="nf">authenticate_employee!</span><span class="p">(</span><span class="n">opts</span><span class="o">=</span><span class="p">&#x7b;&#x7d;)</span>
</div></div><div data-line='14' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">current_employee</span> <span class="o">||</span> <span class="n">not_authorized</span>
</div></div><div data-line='15' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='16' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='17' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">def</span> <span class="nf">current_employee</span>
</div></div><div data-line='18' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">current_user</span> <span class="k">if</span> <span class="n">current_user</span><span class="p">.</span><span class="nf">is_a?</span> <span class="no">Employee</span>
</div></div><div data-line='19' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='20' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='21' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">def</span> <span class="nf">authenticate_admin!</span><span class="p">(</span><span class="n">opts</span><span class="o">=</span><span class="p">&#x7b;&#x7d;)</span>
</div></div><div data-line='22' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">current_admin</span> <span class="o">||</span> <span class="n">not_authorized</span>
</div></div><div data-line='23' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='24' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='25' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">def</span> <span class="nf">current_admin</span>
</div></div><div data-line='26' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">current_user</span> <span class="k">if</span> <span class="n">current_user</span><span class="p">.</span><span class="nf">is_a?</span> <span class="no">Admin</span>
</div></div><div data-line='27' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='28' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<h3>After code</h3>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># New Version using dynamic methods</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="sx">%w(Staff Employee Admin)</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">k</span><span class="o">|</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">define_method</span> <span class="s2">&ldquo;current<em></span><span class="si">#&#x7b;</span><span class="n">k</span><span class="p">.</span><span class="nf">underscore</span><span class="si">&#x7d;</span><span class="s2">&rdquo;</span> <span class="k">do</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">current_user</span> <span class="k">if</span> <span class="n">current_user</span><span class="p">.</span><span class="nf">is_a?</span><span class="p">(</span><span class="n">k</span><span class="p">.</span><span class="nf">constantize</span><span class="p">)</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">define_method</span> <span class="s2">&ldquo;authenticate</em></span><span class="si">#&#x7b;</span><span class="n">k</span><span class="p">.</span><span class="nf">underscore</span><span class="si">&#x7d;</span><span class="s2">!&rdquo;</span> <span class="k">do</span> <span class="o">|</span><span class="n">opts</span><span class="o">=</span><span class="p">&#x7b;&#x7d;</span><span class="o">|</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nb">send</span><span class="p">(</span><span class="s2">&ldquo;current_</span><span class="si">#&#x7b;</span><span class="n">k</span><span class="p">.</span><span class="nf">underscore</span><span class="si">&#x7d;</span><span class="s2">&rdquo;</span><span class="p">)</span> <span class="o">||</span> <span class="n">not_authorized</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2011/12/using-jquery-rails-and-datepicker/">using jQuery-rails and datepicker, timepicker & datetimepicker</a></h1>
    
    
      <p class="meta">
        Dec 22, 2011
        
      </p>
    
  </header>


  <div class="entry-content"><p>jQuery datepicker plugin is used to display inline calendar popup that eases user input experience while entering date/time fields. Calendar can be easily binded to any html DOM element. To Apply different styles download css from <a href="http://jqueryui.com/demos/datepicker">here</a></p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'># Gemfile
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>gem &ldquo;jquery-rails&rdquo;</div></div></pre></div></figure></p>

<p>Install Bundle
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>bundle install</div></div></pre></div></figure></p>

<p>Add inside <code>application.js.coffee</code>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># app/assets/javascripts/application.js.coffee </span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="err">/</span><span class="o">/=</span> <span class="nx">require</span> <span class="nx">jquery</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="err">//</span><span class="o">=</span> <span class="nx">require</span> <span class="nx">jquery_ujs</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="err">//</span><span class="o">=</span> <span class="nx">require</span> <span class="nx">jquery</span><span class="o">-</span><span class="nx">ui</span></div></div></pre></div></figure></p>

<p>Access in layout
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'># app/views/layouts/application.html.haml
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="p">=</span> <span class="n">stylesheet_link_tag</span> <span class="s2">&ldquo;application&rdquo;</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="p">=</span> <span class="n">stylesheet_link_tag</span> <span class="s2">&ldquo;<a href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/base/jquery-ui.css">http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/base/jquery-ui.css</a>&rdquo;</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="p">=</span> <span class="n">javascript_include_tag</span> <span class="s2">&ldquo;application&rdquo;</span></div></div></pre></div></figure></p>

<p>Before using timepicker download jquery-ui-timepicker js
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>wget <a href="http://trentrichardson.com/examples/timepicker/js/jquery-ui-timepicker-addon.js">http://trentrichardson.com/examples/timepicker/js/jquery-ui-timepicker-addon.js</a> app/assets/javascripts/</div></div></pre></div></figure></p>

<p>Add timepcker js to <code>application.js.coffee</code>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="err">/</span><span class="o">/=</span> <span class="nx">require</span> <span class="nx">jquery</span><span class="o">-</span><span class="nx">ui</span><span class="o">-</span><span class="nx">timepicker</span><span class="o">-</span><span class="nx">addon</span></div></div></pre></div></figure></p>

<p>View form
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>## inside views
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'># app/views/users/_form.html.haml
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="p">=</span> <span class="n">form_for</span> <span class="vi">@user</span> <span class="o">||=</span> <span class="no">User</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="p">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">text_field</span> <span class="ss">:birth_date</span><span class="p">,</span> <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">&lsquo;birthDate&rsquo;</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="p">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">text_field</span> <span class="ss">:birth_time</span><span class="p">,</span> <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">&lsquo;birthTime&rsquo;</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="p">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">text_field</span> <span class="ss">:exam_on</span><span class="p">,</span> <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">&lsquo;examOn&rsquo;</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="nd">:javascript</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">&#x7b;</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nx">$</span><span class="p">(</span><span class="s2">&ldquo;#birthDate&rdquo;</span><span class="p">).</span><span class="nx">datepicker</span><span class="p">();</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nx">$</span><span class="p">(</span><span class="s2">&ldquo;#birthTime&rdquo;</span><span class="p">).</span><span class="nx">timepicker</span><span class="p">();</span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nx">$</span><span class="p">(</span><span class="s2">&ldquo;#examOn&rdquo;</span><span class="p">).</span><span class="nx">datetimepicker</span><span class="p">();</span>
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nx">$</span><span class="p">(</span><span class="s1">&lsquo;#ui-datepicker-div&rsquo;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&lsquo;ui-helper-hidden-accessible&rsquo;</span><span class="p">)</span></div></div></pre></div></figure></p>

<p>Customizations
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="nx">$</span><span class="p">(</span><span class="s1">&lsquo;#birth_date&rsquo;</span><span class="p">).</span><span class="nx">datepicker</span><span class="p">(&#x7b;</span> <span class="na">dateFormat</span><span class="p">:</span> <span class="s1">&lsquo;dd-mm-yy&rsquo;</span> <span class="p">&#x7d;);</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="nx">$</span><span class="p">(</span><span class="s1">&lsquo;#birth_date&rsquo;</span><span class="p">).</span><span class="nx">datepicker</span><span class="p">(&#x7b;</span> <span class="na">disabled</span><span class="p">:</span> <span class="kc">true</span> <span class="p">&#x7d;);</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="nx">$</span><span class="p">(</span><span class="s2">&ldquo;#examOn&rdquo;</span><span class="p">).</span><span class="nx">datetimepicker</span><span class="p">(&#x7b;</span> <span class="na">ampm</span><span class="p">:</span> <span class="kc">true</span> <span class="p">&#x7d;);</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="nx">$</span><span class="p">(</span><span class="s2">&ldquo;#examOn&rdquo;</span><span class="p">).</span><span class="nx">datetimepicker</span><span class="p">(&#x7b;</span> <span class="na">timeFormat</span><span class="p">:</span> <span class="s1">&lsquo;h:m&rsquo;</span><span class="p">,</span> <span class="na">separator</span><span class="p">:</span> <span class="s1">&lsquo; @ &rsquo;</span> <span class="p">&#x7d;);</span></div></div></pre></div></figure></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2011/12/getting-assets-working-on-heroku/">Getting assets pipeline working on heroku</a></h1>
    
    
      <p class="meta">
        Dec 22, 2011
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>Heroku is readonly file system hence write operations can only be done inside tmp directory. Asset compilation on heroku can be handled in different ways.</p></blockquote>

<p><strong>1. compiling locally and placing inside assets directory</strong>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>RAILS_ENV=production bundle exec rake assets:precompile</div></div></pre></div></figure></p>

<p><strong>2. It compiles assets while slug compiles</strong></p>

<p><strong>3. Run time asset compilation</strong>
It compiles assets for every rails request if it notifies assets got modified</p>

<p>Configurations
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">config</span><span class="o">/</span><span class="n">application</span><span class="p">.</span><span class="nf">rb</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># Enable the asset pipeline</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">config</span><span class="p">.</span><span class="nf">assets</span><span class="p">.</span><span class="nf">enabled</span> <span class="o">=</span> <span class="kp">true</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># Version of your assets, change this if you want to expire all your assets</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">config</span><span class="p">.</span><span class="nf">assets</span><span class="p">.</span><span class="nf">version</span> <span class="o">=</span> <span class="s1">&lsquo;1.0&rsquo;</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">config</span><span class="p">.</span><span class="nf">assets</span><span class="p">.</span><span class="nf">prefix</span> <span class="o">=</span> <span class="no">Rails</span><span class="p">.</span><span class="nf">root</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s1">&lsquo;tmp/assets&rsquo;</span><span class="p">).</span><span class="nf">to_s</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># config/environments/production.rb</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># Don&rsquo;t fallback to assets pipeline if a precompiled asset is missed</span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">config</span><span class="p">.</span><span class="nf">assets</span><span class="p">.</span><span class="nf">compile</span> <span class="o">=</span> <span class="kp">true</span></div></div></pre></div></figure></p>

<p>Note: write operation made inside tmp directory can not make any guarantee of being persisted hence be careful while using.</p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2011/12/multiple-resources-registrations-with/">Multiple resources, registrations with devise, STI and single sign sign on</a></h1>
    
    
      <p class="meta">
        Dec 22, 2011
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>Devise handles authentication, authorization part inside rails application quite easily and its customizable too. One can always customize default devise configurations.</p></blockquote>

<p>This Post will show how to manage multiple resources (like admin, staff, employees, guests etc.) through devise and STI with individual registrations process but login section will be the same for all.</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'># Gemfile
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>gem &lsquo;devise&rsquo;</div></div></pre></div></figure></p>

<p>Bundle install, generate devise files, devise user, and migrate devise database
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>bundle install
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>rails g devise_install
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>rails g devise User
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>rake db:migrate
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>rake routes</div></div></pre></div></figure></p>

<p>User Model
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="c1"># Include default devise modules. Others available are:</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="c1"># :token_authenticatable, :lockable, :timeoutable, :confirmable and :activatable</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">devise</span> <span class="ss">:database_authenticatable</span><span class="p">,</span> <span class="ss">:registerable</span><span class="p">,</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>         <span class="ss">:recoverable</span><span class="p">,</span> <span class="ss">:rememberable</span><span class="p">,</span> <span class="ss">:trackable</span><span class="p">,</span> <span class="ss">:validatable</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="c1"># Setup accessible (or protected) attributes for your model</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">attr_accessible</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">:password</span><span class="p">,</span> <span class="ss">:password_confirmation</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<h3>Single Table Inheritance</h3>

<p>Create <code>Admin</code>, <code>Staff</code>, <code>Employee</code>, and <code>Guest</code> models inherited from <code>User</code> model
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># Admin</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">Admin</span> <span class="o">&lt;</span> <span class="no">User</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># Staff</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">Staff</span> <span class="o">&lt;</span> <span class="no">User</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># Employee</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">Employee</span> <span class="o">&lt;</span> <span class="no">User</span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span>
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># Guest</span>
</div></div><div data-line='14' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">Guest</span> <span class="o">&lt;</span> <span class="no">User</span>
</div></div><div data-line='15' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<p>Add routes for admin, staff, employee, and guest users
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># routes</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">devise_for</span> <span class="ss">:users</span><span class="p">,</span> <span class="ss">:skip</span> <span class="o">=&gt;</span> <span class="ss">:registrations</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">devise_for</span> <span class="ss">:admins</span><span class="p">,</span> <span class="ss">:skip</span> <span class="o">=&gt;</span> <span class="ss">:sessions</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">devise_for</span> <span class="ss">:staffs</span><span class="p">,</span> <span class="ss">:skip</span> <span class="o">=&gt;</span> <span class="ss">:sessions</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">devise_for</span> <span class="ss">:employees</span><span class="p">,</span> <span class="ss">:skip</span> <span class="o">=&gt;</span> <span class="ss">:sessions</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">devise_for</span> <span class="ss">:guests</span><span class="p">,</span> <span class="ss">:skip</span> <span class="o">=&gt;</span> <span class="ss">:sessions</span></div></div></pre></div></figure></p>

<p>Customizing deafult <code>routes</code> and <code>views</code></p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># config/routes.rb</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># customizing default login/logout routes, views, actions</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">devise_for</span> <span class="ss">:users</span><span class="p">,</span> <span class="ss">:controller</span> <span class="o">=&gt;</span> <span class="p">&#x7b;</span><span class="ss">:sessions</span>  <span class="o">=&gt;</span> <span class="s1">&lsquo;sessions&rsquo;</span><span class="p">&#x7d;,</span> <span class="ss">:skip</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="ss">:sessions</span><span class="p">,</span> <span class="ss">:registrations</span><span class="p">]</span> <span class="k">do</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">delete</span> <span class="s1">&lsquo;/logout&rsquo;</span><span class="p">,</span> <span class="ss">:to</span> <span class="o">=&gt;</span> <span class="s1">&lsquo;sessions#destroy&rsquo;</span><span class="p">,</span> <span class="ss">:as</span> <span class="o">=&gt;</span> <span class="ss">:destroy_user_session</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">get</span> <span class="s1">&lsquo;/login&rsquo;</span><span class="p">,</span> <span class="ss">:to</span> <span class="o">=&gt;</span> <span class="s1">&lsquo;sessions#new&rsquo;</span><span class="p">,</span> <span class="ss">:as</span> <span class="o">=&gt;</span> <span class="ss">:new_user_session</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">post</span> <span class="s1">&lsquo;/login&rsquo;</span><span class="p">,</span> <span class="ss">:to</span> <span class="o">=&gt;</span> <span class="s1">&lsquo;sessions#create&rsquo;</span><span class="p">,</span> <span class="ss">:as</span> <span class="o">=&gt;</span> <span class="ss">:user_session</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># app/controllers/sessions_controller</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">SessionsController</span> <span class="o">&lt;</span> <span class="no">Devise</span><span class="o">::</span><span class="no">SessionsController</span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<p><strong>Overriding default after sign in path</strong>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># app/controller/application_controller.rb</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">ApplicationController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">protect_from_forgery</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">helper_method</span> <span class="ss">:account_url</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'> <span class="k">def</span> <span class="nf">account_url</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="k">return</span> <span class="n">new_user_session_url</span> <span class="k">unless</span> <span class="n">user_signed_in?</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="k">case</span> <span class="n">current_user</span><span class="p">.</span><span class="nf">class</span><span class="p">.</span><span class="nf">name</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="k">when</span> <span class="s1">&lsquo;Customer&rsquo;</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="n">edit_customer_registration_url</span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="k">when</span> <span class="s1">&lsquo;Admin&rsquo;</span>
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="n">edit_home_page_section_url</span>
</div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="k">else</span>
</div></div><div data-line='14' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="n">root_url</span>
</div></div><div data-line='15' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="k">end</span> <span class="k">if</span> <span class="n">user_signed_in?</span>
</div></div><div data-line='16' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='17' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span>
</div></div><div data-line='18' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='19' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># app/controllers/sessions_controller.rb </span>
</div></div><div data-line='20' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">SessionsController</span> <span class="o">&lt;</span> <span class="no">Devise</span><span class="o">::</span><span class="no">SessionsController</span>
</div></div><div data-line='21' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='22' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">def</span> <span class="nf">after_sign_in_path_for</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>
</div></div><div data-line='23' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">stored_location_for</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span> <span class="o">||</span> <span class="n">account_url</span>
</div></div><div data-line='24' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='25' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<p><strong>Changing default login field email to username</strong>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># config/initializers/devise.rb </span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">config</span><span class="p">.</span><span class="nf">authentication_keys</span> <span class="o">=</span> <span class="p">[</span> <span class="ss">:username</span> <span class="p">]</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># app/models/user.rb</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">validates</span> <span class="ss">:username</span><span class="p">,</span> <span class="ss">:presence</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="ss">:uniqueness</span> <span class="o">=&gt;</span> <span class="p">&#x7b;</span><span class="ss">:allow_blank</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">&#x7d;,</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="ss">:format</span> <span class="o">=&gt;</span> <span class="p">&#x7b;</span><span class="ss">:with</span> <span class="o">=&gt;</span> <span class="sr">/^\w+[\w\s:?&lsquo;]+$/i</span><span class="p">,</span> <span class="ss">:allow_blank</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">&#x7d;</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">def</span> <span class="nf">email_required?</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="kp">false</span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<p>Adding devise authentication and authorization helper methods for above resources. more information on this can be read <a href="http://www.funonrails.com/2011/12/dynamic-methods-inside-ruby-classes">here</a></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2011/11/rails-311-haml-sass-jquery-coffee-rails/">rails 3.1.1 haml sass jquery coffee-rails devise twitter-bootstrap railroady heroku</a></h1>
    
    
      <p class="meta">
        Nov 22, 2011
        
      </p>
    
  </header>


  <div class="entry-content"><p>Install RVM first</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>bash &lt; &lt;(curl -s <a href="https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvminstaller">https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvminstaller</a>)</div></div></pre></div></figure></p>

<p>rvm list known
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'># MRI Rubies
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>[ruby-]1.8.6-head
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>[ruby-]1.8.7[-p352]
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>[ruby-]1.9.3-head
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>ruby-head
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'># JRuby
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>jruby-1.2.0
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>jruby-head
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'># Rubinius
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'>rbx-1.0.1
</div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'>rbx-2.0.0pre
</div></div><div data-line='14' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='15' class='code-highlight-row numbered'><div class='code-highlight-line'># Ruby Enterprise Edition
</div></div><div data-line='16' class='code-highlight-row numbered'><div class='code-highlight-line'>ree-1.8.6
</div></div><div data-line='17' class='code-highlight-row numbered'><div class='code-highlight-line'>ree-1.8.7-head</div></div></pre></div></figure></p>

<p>Install ruby 1.9.3
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>rvm install 1.9.3-head
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>rvm gemset create rails311
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>rvm use 1.9.3-head@rails311 &ndash;default
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>gem install rails -v3.1.1 &ndash;no-rdoc &ndash;no-ri
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>gem install heroku
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>gem install rb-readline</div></div></pre></div></figure></p>

<p>Create new rails project
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>rails new cdc -m <a href="http://railswizard.org/b22092a4358bbebb3a46.rb">http://railswizard.org/b22092a4358bbebb3a46.rb</a> -J -T</div></div></pre></div></figure></p>

<p>Above command will create rails app, bundle install, and Heroku Deployment
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><a href="http://railsblank.heroku.com/">http://railsblank.heroku.com/</a> (production)</div></div></pre></div></figure></p>

<p>Local System nginx-passenger setup
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>gem install passenger
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>rvmsudo passenger-install-nginx-module</div></div></pre></div></figure></p>

<p>If you find pcre download error then make sure you libpcre-dev pkg installed on your system otherwise install it and re-run
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo apt-get install libpcre3-dev</div></div></pre></div></figure></p>

<p>Nginx Configuration
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>http &#x7b;
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>  passenger_root /home/sandip/.rvm/gems/ruby-1.9.3-head@rails311/gems/passenger-3.0.9;
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>  passenger_ruby /home/sandip/.rvm/wrappers/ruby-1.9.3-head@rails311/ruby;
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>  server &#x7b;
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>    listen 80;
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>    server_name railsblank.local;
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>    root /home/sandip/railsblank/public;
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>    rails_env development;
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>    passenger_enabled on;
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'>&#x7d;</div></div></pre></div></figure></p>

<p>git source code can be found here
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>git clone git://github.com/sandipransing/rails_blank.git</div></div></pre></div></figure></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2011/11/paperclip-options-aws-s3-config-and-rails/">paperclip options aws-s3 config and rails</a></h1>
    
    
      <p class="meta">
        Nov 21, 2011
        
      </p>
    
  </header>


  <div class="entry-content"><p>Stepwise guide to configure paperclip default options, setting up aws-s3 storage in rails
Inside Gemfile</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>gem &lsquo;aws-s3&rsquo;,               :require => &lsquo;aws/s3&rsquo;
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>gem &lsquo;paperclip&rsquo;</div></div></pre></div></figure></p>

<p>Bundle
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>bundle install</div></div></pre></div></figure></p>

<p>Generate Print model to hold image
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>rails g model print image_file_name:string image_content_type:string image_file_size:string</div></div></pre></div></figure></p>

<p>DB Migration
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>rake db:migrate</div></div></pre></div></figure></p>

<p>Add s3 credentials to YML file
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'># config/s3.yml
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>access_key_id: DASDFG7KACNxIJdJXHPQ
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>secret_access_key: BnDrTnzCTX+R707wYEP/aCEqAsDFG7sgW</div></div></pre></div></figure></p>

<p>Add default paperclip attachment options to initializer
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># Make sure to add host url inside config/environments</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># HOSTNAME = &lsquo;<a href="http://lordganesha.com">http://lordganesha.com</a>&rsquo;</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="no">Paperclip</span><span class="o">::</span><span class="no">Attachment</span><span class="p">.</span><span class="nf">default_options</span><span class="p">.</span><span class="nf">merge!</span><span class="p">(</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="ss">:storage</span> <span class="o">=&gt;</span> <span class="s1">&lsquo;s3&rsquo;</span><span class="p">,</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="ss">:s3_credentials</span> <span class="o">=&gt;</span> <span class="no">YAML</span><span class="p">.</span><span class="nf">load_file</span><span class="p">(</span><span class="s2">&ldquo;</span><span class="si">#&#x7b;</span><span class="no">Rails</span><span class="p">.</span><span class="nf">root</span><span class="si">&#x7d;</span><span class="s2">/config/s3.yml&rdquo;</span><span class="p">),</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="ss">:path</span> <span class="o">=&gt;</span> <span class="s2">&ldquo;:class/:attachment/</span><span class="si">#&#x7b;</span><span class="no">Rails</span><span class="p">.</span><span class="nf">env</span><span class="si">&#x7d;</span><span class="s2">/:id/:style/:basename.:extension&rdquo;</span><span class="p">,</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="ss">:default_url</span> <span class="o">=&gt;</span> <span class="s2">&ldquo;<a href="http://">http://</a></span><span class="si">#&#x7b;</span><span class="no">HOSTNAME</span><span class="si">&#x7d;</span><span class="s2">/images/paperclip/:class/:attachment/default.jpg&rdquo;</span><span class="p">,</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="ss">:bucket</span> <span class="o">=&gt;</span> <span class="s1">&lsquo;ganesha&rsquo;</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="p">)</span></div></div></pre></div></figure></p>

<p>Add image attachment code to print model
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># app/models/print.rb</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">Print</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">has_attached_file</span> <span class="ss">:image</span><span class="p">,</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="ss">:styles</span> <span class="o">=&gt;</span> <span class="p">&#x7b;</span><span class="ss">:medium</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">&ldquo;400x400#&rdquo;</span><span class="p">,</span> <span class="ss">:jpg</span><span class="p">],</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>                <span class="ss">:thumb</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">&ldquo;100x100#&rdquo;</span><span class="p">,</span> <span class="ss">:jpg</span><span class="p">],</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>                <span class="ss">:slider</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">&ldquo;300x300#&rdquo;</span><span class="p">,</span> <span class="ss">:jpg</span><span class="p">]&#x7d;</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="c1">#validates_attachment_presence :image</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">validates_attachment_size</span> <span class="ss">:image</span><span class="p">,</span> <span class="ss">:less_than</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">.</span><span class="nf">megabytes</span><span class="p">,</span> <span class="ss">:message</span> <span class="o">=&gt;</span> <span class="s1">&lsquo;file size maximum 1 MB allowed&rsquo;</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">validates_attachment_content_type</span> <span class="ss">:image</span><span class="p">,</span> <span class="ss">:content_type</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&lsquo;image/jpeg&rsquo;</span><span class="p">,</span> <span class="s1">&lsquo;image/png&rsquo;</span><span class="p">,</span> <span class="s1">&lsquo;image/gif&rsquo;</span><span class="p">,</span> <span class="s1">&lsquo;image/bmp&rsquo;</span><span class="p">,</span> <span class="s1">&lsquo;image/pjpeg&rsquo;</span><span class="p">,</span> <span class="s1">&lsquo;image/x-png&rsquo;</span><span class="p">]</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<p>Inside views
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'># inside new.html.haml
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="p">=</span> <span class="n">form_for</span> <span class="vi">@print</span> <span class="k">do</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="p">=</span><span class="n">f</span><span class="p">.</span><span class="nf">file_field</span> <span class="ss">:image</span></div></div></pre></div></figure></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2011/11/paperclip-image-upload-via-url/">Paperclip image upload via URL</a></h1>
    
    
      <p class="meta">
        Nov 21, 2011
        
      </p>
    
  </header>


  <div class="entry-content"><p>Upload image via paperclip via passing URL instead of file upload</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># Consider Print instance with image as file attachment</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">Print</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">has_attached_file</span> <span class="ss">:image</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">def</span> <span class="nf">upload_image</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="k">begin</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="n">io</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="no">URI</span><span class="p">.</span><span class="nf">escape</span><span class="p">(</span><span class="n">url</span><span class="p">))</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="k">if</span> <span class="n">io</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>        <span class="k">def</span> <span class="nc">io</span><span class="o">.</span><span class="nf">original_filename</span><span class="p">;</span> <span class="n">base_uri</span><span class="p">.</span><span class="nf">path</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="s1">&lsquo;/&rsquo;</span><span class="p">).</span><span class="nf">last</span><span class="p">;</span> <span class="k">end</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>        <span class="n">io</span><span class="p">.</span><span class="nf">original_filename</span><span class="p">.</span><span class="nf">blank?</span> <span class="p">?</span> <span class="kp">nil</span> <span class="p">:</span> <span class="n">io</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>        <span class="nb">p</span><span class="p">.</span><span class="nf">image</span> <span class="o">=</span> <span class="n">io</span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="k">end</span>
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="nb">p</span><span class="p">.</span><span class="nf">save</span><span class="p">(</span><span class="kp">false</span><span class="p">)</span>
</div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="k">rescue</span> <span class="no">Exception</span> <span class="o">=&gt;</span> <span class="n">e</span>
</div></div><div data-line='14' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="n">logger</span><span class="p">.</span><span class="nf">info</span> <span class="s2">&ldquo;EXCEPTION# </span><span class="si">#&#x7b;</span><span class="n">e</span><span class="p">.</span><span class="nf">message</span><span class="si">&#x7d;</span><span class="s2">&rdquo;</span>
</div></div><div data-line='15' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="k">end</span>
</div></div><div data-line='16' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='17' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<p>Text code from console
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>p = Print.new
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>url = &ldquo;<a href="http://ocdevel.com/sites/ocdevel.com/files/images/rails.png">http://ocdevel.com/sites/ocdevel.com/files/images/rails.png</a>&rdquo;
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>p.upload_image(url)</div></div></pre></div></figure></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2011/10/connecting-to-multiple-databases-in-rails/">Legacy database connections in rails</a></h1>
    
    
      <p class="meta">
        Oct 5, 2011
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>While developing rails application we often come across situation where you wanted different rails models connecting different tables of different databases.</p></blockquote>

<p>Example: We are having ndnc model holding ndnc records associated with database ndnc.
Lets create ConnectionBase model that will connect to other databse &lsquo;ndnc&rsquo; and that will be extended from ActiveRecordBase and put that inside library files</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># lib/connection_base.rb </span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">ConnectionBase</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">establish_connection</span><span class="p">(</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="ss">:adapter</span> <span class="o">=&gt;</span> <span class="s2">&ldquo;postgresql&rdquo;</span><span class="p">,</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="ss">:username</span><span class="o">=&gt;</span> <span class="s2">&ldquo;sandip&rdquo;</span><span class="p">,</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="ss">:password</span> <span class="o">=&gt;</span> <span class="s2">&ldquo;2121&rdquo;</span><span class="p">,</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="ss">:database</span> <span class="o">=&gt;</span> <span class="s2">&ldquo;ndnc&rdquo;</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="p">)</span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<p>Wherever you wanted to connect to other database i.e. ndnc you can extend that particular model with ConnectionBase</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">Ndnc</span> <span class="o">&lt;</span> <span class="no">ConnectionBase</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># connects to ndnc table of ndnc database</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<p>Please make sure library files are loaded while server startup
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># vi config/application.rb</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">config</span><span class="p">.</span><span class="nf">autoload_paths</span> <span class="o">+=</span> <span class="sx">%W(</span><span class="si">#&#x7b;</span><span class="n">config</span><span class="p">.</span><span class="nf">root</span><span class="si">&#x7d;</span><span class="sx">/lib)</span></div></div></pre></div></figure></p>

<p>Done !
In cases where you want only one particular model connecting other database table, you can put connection setting itself in that model.</p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2011/09/print-particular-div-inside-html-page/">Print particular DIV inside HTML Page</a></h1>
    
    
      <p class="meta">
        Sep 12, 2011
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hiding Whole page content and displaying only particular div using css</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">@media</span> <span class="n">print</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="p">&#x7b;</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nt">body</span> <span class="o"><em></span> <span class="p">&#x7b;</span> <span class="nl">visibility</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span> <span class="p">&#x7d;</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nf">#PrintDiv</span> <span class="o"></em></span> <span class="p">&#x7b;</span> <span class="nl">visibility</span><span class="p">:</span> <span class="nb">visible</span><span class="p">;</span> <span class="p">&#x7d;</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nf">#PrintDiv</span> <span class="p">&#x7b;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">top</span><span class="p">:</span> <span class="m">40px</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span> <span class="p">&#x7d;</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="p">&#x7d;</span></div></div></pre></div></figure></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2011/08/migrating-from-svn-to-git/">Migrating from svn to git</a></h1>
    
    
      <p class="meta">
        Aug 17, 2011
        
      </p>
    
  </header>


  <div class="entry-content"><p>Migrating from svn to git</p>

<p><strong>1. Install git-svn</strong>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo apt-get install git-svn</div></div></pre></div></figure></p>

<p><strong>2. Clone svn repositoy</strong>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>git svn clone -s svn://server/project_myt/trunk proj</div></div></pre></div></figure></p>

<p>To add svn users and git users mapping
Create author-file
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'># authorsfile
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>sandip = sandipransing
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>amit = amitk
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>root = sandipransing </div></div></pre></div></figure></p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>git svn &ndash;author-file=authorfile clone -s svn://server/project_myt/trunk proj</div></div></pre></div></figure></p>

<p><strong>3. Add git repository ur</strong>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>cd proj
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>git remote add git@github.com:USERNAME/project.git</div></div></pre></div></figure></p>

<p><strong>4. Push repository to git</strong>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>git push origin master</div></div></pre></div></figure></p>

<p>To do svn pull for latest changes
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>git svn rebase</div></div></pre></div></figure></p>
</div>
    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/5/">&larr; Older</a>
    
    <a href="/archives/">Blog Archives</a>
    
    <a class="next" href="/page/3/">Newer &rarr;</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2009 - 2016 - sandipransing -
  <span class="credit">Powered by <a href="http://octopress.org" target='_blank'>Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace" target='_blank'>Whitespace</a></span>
</p></footer>
  <script type="text/javascript">
      var disqus_shortname = 'funonrails';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>

<script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>
<script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>
</body>
</html>
