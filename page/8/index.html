
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Fun On Rails</title>
  <meta name="author" content="sandipransing">

  
  <meta name="description" content="
  
  
  
    
      
    
      Rails 3 Beautiful Code
    
    
      
        Aug 2, 2010
        
      
    
  


  
Check out this SlideShare...">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://funonrails.com/page/8/">

  <link rel="icon" href="/img/favicon.png">
  <link rel="stylesheet" href="/css/screen.css">

  <link href="http://feeds.feedburner.com/funonrails" rel="alternate" title="Fun On Rails" type="application/atom+xml">
  <script src="/js/modernizr-2.0.js"></script>
  <script   src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-48366424-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
</head>
<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Fun On Rails</a></h1>
  
    <h2>Journal of a Web Developer #ruby #rails #JS</h2>
  
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="http://feeds.feedburner.com/funonrails" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="http://feedburner.google.com/fb/a/mailverify?uri=funonrails&amp;loc=en_US" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="http://funonrails.com">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/contact">Contact</a></li>
  <li><a href="/assets/sandipransing_cv.pdf" target='_blank'>CV</a></li>
  <li><a href="/ruby-on-rails-developers-in-india">ROR devs in india</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/inspirational-quotes-of-the-day">Inspirational Quotes</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2010/08/rails-3-beautiful-code/">Rails 3 Beautiful Code</a></h1>
    
    
      <p class="meta">
        Aug 2, 2010
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Check out this SlideShare Presentation: <div style="width:425px" id="__ss_3219240"><strong style="display:block;margin:12px 0 4px"><a href="http://www.slideshare.net/GreggPollack/rails-3-beautiful-code-3219240" title="Rails 3 Beautiful Code">Rails 3 Beautiful Code</a></strong><object id="__sse3219240" width="425" height="355"><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=beautifulcodeinrails3-greggpollack-100218130149-phpapp02&stripped_title=rails-3-beautiful-code-3219240" /><param name="allowFullScreen" value="true"/><param name="allowScriptAccess" value="always"/><embed name="__sse3219240" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=beautifulcodeinrails3-greggpollack-100218130149-phpapp02&stripped_title=rails-3-beautiful-code-3219240" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="355"></embed></object><div style="padding:5px 0 12px">View more <a href="http://www.slideshare.net/">presentations</a> from <a href="http://www.slideshare.net/GreggPollack">GreggPollack</a>.</div></div></div>

</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2010/08/pdf-in-rails-using-prawn-library/">PDF in rails using prawn library</a></h1>
    
    
      <p class="meta">
        Aug 1, 2010
        
      </p>
    
  </header>


  <div class="entry-content"><p>Building PDF Document in ruby &amp; rails application using prawn Library
<strong>Brief</strong>. Before getting started with this tutorial, I would like to thanks <strong>Greg and
Prawn team</strong> for their awesome work towards ruby and rails community</p>

<h2>Installing prawn (core, layout, format, security)</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>gem install prawn</div></div></pre></div></figure></p>

<p>or
Add following line in rails environment file inside initializer block
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>config.gem &lsquo;prawn&rsquo;</div></div></pre></div></figure></p>

<p>Optionally you can specify version to be used and then run task
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>rake gems:install</div></div></pre></div></figure></p>

<p>Generating pdf using rails console</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>ruby script/console
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>pdf = Prawn::Document.new</div></div></pre></div></figure></p>

<p>It creates new pdf document object. Here you can additionally pass options parameters such as -</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="no">Prawn</span><span class="o">::</span><span class="no">Document</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">:page_size</span>   <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">11</span><span class="o">.</span><span class="mi">32</span><span class="p">,</span> <span class="mi">8</span><span class="o">.</span><span class="mi">49</span><span class="p">],</span> <span class="ss">:page_layout</span> <span class="o">=&gt;</span> <span class="ss">:portrait</span><span class="p">)</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="no">Prawn</span><span class="o">::</span><span class="no">Document</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="no">A0</span><span class="p">)</span> <span class="no">Here</span> <span class="no">A0</span> <span class="n">is</span> <span class="n">page</span> <span class="n">size</span><span class="o">.</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="no">Prawn</span><span class="o">::</span><span class="no">Document</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">:page_layout</span> <span class="o">=&gt;</span> <span class="ss">:portrait</span><span class="p">,</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>                     <span class="ss">:left_margin</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">.</span><span class="nf">mm</span><span class="p">,</span>    <span class="c1"># different</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>                     <span class="ss">:right_margin</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">.</span><span class="nf">cm</span><span class="p">,</span>    <span class="c1"># units</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>                     <span class="ss">:top_margin</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="p">.</span><span class="nf">dm</span><span class="p">,</span>    <span class="c1"># work</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>                     <span class="ss">:bottom_margin</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mo">01</span><span class="p">.</span><span class="nf">m</span><span class="p">,</span> <span class="c1"># well</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>                     <span class="ss">:page_size</span> <span class="o">=&gt;</span> <span class="s1">&lsquo;A4&rsquo;</span><span class="p">)</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">pdf</span><span class="p">.</span><span class="nf">text</span><span class="p">(</span><span class="s2">&ldquo;Prawn Rocks&rdquo;</span><span class="p">)</span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="o">=&gt;</span> <span class="mi">12</span>
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'> <span class="n">pdf</span><span class="p">.</span><span class="nf">render_file</span><span class="p">(</span><span class="s1">&lsquo;prawn.pdf&rsquo;</span><span class="p">)</span>
</div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="o">=&gt;</span> <span class="c1">#&lt;file:prawn.pdf (closed)=&ldquo;&rdquo;&gt;&lt;/file:prawn.pdf&gt;</span></div></div></pre></div></figure></p>

<p>Here is output file generated
<a href="http://github.com/sandipransing/prawn-example/raw/master/sample/prawn.pdf">click</a></p>

<p>Now let&rsquo;s go through other goodness of prawn library
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>pdf  = Prawn::Document.new(&lsquo;A3&rsquo;) do</div></div></pre></div></figure></p>

<h2>FONTS</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/font.pdf">click</a>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'># Specify font to be used or specify path to font file.
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>font &ldquo;times.ttf&rdquo;
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>font(&ldquo;/times.ttf&rdquo;)</div></div></pre></div></figure></p>

<h2>TEXT</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/font.pdf">click</a></p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>text &lsquo;Sandip Ransing&rsquo;, :size => 41, :position => :center, :style => :bold</div></div></pre></div></figure></p>

<h2>STROKE LINE</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/stroke.pdf">click</a>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>stroke do
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>      rectangle [300,300], 100, 200
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'> end</div></div></pre></div></figure></p>

<h2>IMAGE</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/image.pdf">click</a></p>

<p>Displaying Local file system Image
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>image &lsquo;sandip.png&rsquo;, :height => 50, :position => :center, :border => 2
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>Scale Image
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>image &lsquo;sandip.png&rsquo;, :scale => 0.5, :position => :left
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>Display Remote image from Internet inside pdf
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>require &ldquo;open-uri&rdquo;
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'> image open(&lsquo;<a href="http://t2.gstatic.com/images?q=tbn:kTG6gAKrnou2gM:http://www.facebook.com/profile/pic.php?uid=AAAAAQAQrLXvTWfyY2ANjttV8D1c0QAAAAnDHPFJe0pPFR84iIzXPKro&amp;t=1">http://t2.gstatic.com/images?q=tbn:kTG6gAKrnou2gM:http://www.facebook.com/profile/pic.php?uid=AAAAAQAQrLXvTWfyY2ANjttV8D1c0QAAAAnDHPFJe0pPFR84iIzXPKro&amp;t=1</a>")
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>end</div></div></pre></div></figure></p>

<h2>LINE BREAKS</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>movedown(20)
</div></div></pre></div></figure></p>

<h2>TABLE/GRID</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/table.pdf">click</a>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>data = [
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>    [&ldquo;Name&rdquo;, &#x7b;:text => &lsquo;Sandip Ransing&rsquo;, :font_style => :bold, :colspan => 4 &#x7d;],
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>    [&ldquo;Address&rdquo;, &#x7b;:text => &lsquo;SHIVAJINAGAR, PUNE 411005&rsquo;, :colspan => 4 &#x7d;],
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>    [&ldquo;Landmark&rdquo;,&#x7b;:text => &lsquo;NEAR FC COLLEGE&rsquo;, :colspan => 4 &#x7d;],
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>    [&ldquo;Mobile&rdquo;,&ldquo;9860648108&rdquo;, &#x7b;:text => &ldquo;&rdquo;, :colspan => 3 &#x7d;],
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>    [&ldquo;Education&rdquo;, &#x7b;:text => &ldquo;Bachelor in Computer Engineering&rdquo;, :colspan => 4 &#x7d;],
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>      [&ldquo;Vehicle&rdquo;, &lsquo;Hero Honda&rsquo;,&ldquo;Reg. No.&rdquo;, &#x7b;:text => &ldquo;MH 12 EN 921&rdquo;, :colspan => 3 &#x7d;],
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>      [&ldquo;Additional&rdquo;, &ldquo;GDCA&rdquo;, &ldquo;class&rdquo;, &lsquo;First&rsquo;, &ldquo;&rdquo;],
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>      [&#x7b;:text => &ldquo;Areas of Speciality&rdquo;, :font_style => :bold&#x7d;, &#x7b;:text => &ldquo;Ruby, Rails, Radiant, Asterisk, Adhearsion, Geokit, Prawn, &hellip;.,&hellip;&rdquo;, :font_style => :bold, :colspan => 4&#x7d;],
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>      [&#x7b;:text => &ldquo;Website&rdquo;, :colspan => 2&#x7d;,&#x7b;:text => &ldquo;www.funonrails.com&rdquo;, :colspan => 3&#x7d;],
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'>      [&#x7b;:text => &ldquo;Company&rdquo;, :colspan => 2&#x7d;,&#x7b;:text => &ldquo;Josh Software&rdquo;, :colspan => 3&#x7d;]
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'>  ]
</div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'>table data,
</div></div><div data-line='14' class='code-highlight-row numbered'><div class='code-highlight-line'>    :border_style => :grid, #:underline_header
</div></div><div data-line='15' class='code-highlight-row numbered'><div class='code-highlight-line'>    :font_size  => 10,
</div></div><div data-line='16' class='code-highlight-row numbered'><div class='code-highlight-line'>    :horizontal_padding => 6,
</div></div><div data-line='17' class='code-highlight-row numbered'><div class='code-highlight-line'>    :vertical_padding   => 3,
</div></div><div data-line='18' class='code-highlight-row numbered'><div class='code-highlight-line'>    :border_width => 0.7,
</div></div><div data-line='19' class='code-highlight-row numbered'><div class='code-highlight-line'>    :column_widths => &#x7b; 0 => 130, 1 => 100, 2 => 100, 3 => 100, 4 => 80 &#x7d;,
</div></div><div data-line='20' class='code-highlight-row numbered'><div class='code-highlight-line'>    :position => :left,
</div></div><div data-line='21' class='code-highlight-row numbered'><div class='code-highlight-line'>    :align => &#x7b; 0 => :left, 1 => :right, 2 => :left, 3 => :right, 4 => :right &#x7d;</div></div></pre></div></figure></p>

<h2>LINKS</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/link.pdf">click</a>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>link_annotation([200, 200, 500, 40],:Border => [0,0,1], :A => &#x7b; :Type => :Action, :S => :URI, :URI => Prawn::LiteralString.new(&ldquo;<a href="http://twitter.com/sandipransing">http://twitter.com/sandipransing</a>&rdquo;) &#x7d; )
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>link_annotation(([0, 100, 100, 150]), :Border => [0,0,1], :Dest => s"<a href="http://funonrails.com">http://funonrails.com</a>")</div></div></pre></div></figure></p>

<h2>PDF Security</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/secure.pdf">click</a>
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>encrypt_document :user_password => &lsquo;hello&rsquo;, :owner_password => &lsquo;railer&rsquo;,
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>    :permissions => &#x7b; :print_document => false &#x7d;</div></div></pre></div></figure></p>

<h2>Prawn Inline Formatting</h2>

<p>Prawn-format supports inline text formatting that gives user enough flexibility to use html tags</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>require &lsquo;prawn/format&rsquo;
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>text &lsquo;This is Strong  text&rsquo;, :inline_format => true
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>text &lsquo;This is bold text \n It should be on newline.&rsquo;, :inline_format => true</div></div></pre></div></figure></p>

<h2>SAVE Generated PDF</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>end
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>pdf.render_file &lsquo;my.pdf&rsquo;</div></div></pre></div></figure></p>

<p>!!! NOTE: As of time now &lsquo;prawn-format&rsquo; is incompatible with latest prawn gem, It is compatible with prawn version &lt;= 0.6 s</p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2010/05/specify-rails-version-to-use-while/">Specify rails version to new rails app</a></h1>
    
    
      <p class="meta">
        May 7, 2010
        
      </p>
    
  </header>


  <div class="entry-content"><p>On my development machine, I have rails versions installed ranging from rails <code>1.2.3</code> to <code>2.3</code>
How do i create new rails app that will use <code>rails 2.1.0</code>
Create new app with rails version <code>2.1.0</code></p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>rails <em>2.1.0</em> simple_blog</div></div></pre></div></figure></p>

<p>Specify database to use while creating new rails app
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>rails <em>2.1.0</em> simple_blog -d mysql</div></div></pre></div></figure></p>

<h2>Comments</h2>

<p>sitemap « Fun On Rails</p>

<p>[…] Specify rails version to use while creating rails project « Fun On Rails […]</p>

<p>sandipransing</p>

<p>specify database while creating rails application
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>rails demo -d
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>rails <em>2.1.0</em> my_rails_app -d mysql</div></div></pre></div></figure></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2010/04/using-modules-and-mixins-in-ruby/">using modules and mixins in ruby</a></h1>
    
    
      <p class="meta">
        Apr 28, 2010
        
      </p>
    
  </header>


  <div class="entry-content"><p>Before getting started with modules and mixins, lets first find out the need of module &amp; mixins in OOP.</p>

<p>In object oriented programming languages multiple inheritance is basic paradigm (child class extends behavior of base class).</p>

<p>C++ supports multiple inheritance. Java does support same using interfaces.</p>

<p>In ruby language, multiple inheritance is achieved very easily using mixin of modules &amp; classes and that makes ruby as powerful language.</p>

<p>Ruby has classes, modules. Modules can be included inside other classes (mixins) to achieve multiple inheritance.</p>

<h2>Modules</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">module</span> <span class="nn">Greeting</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="c1"># here below is the instance method</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="c1"># and that can be accessed using object of class ONLY</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="k">def</span> <span class="nf">hi</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="nb">puts</span> <span class="s1">&lsquo;Guest&rsquo;</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="k">end</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>     </div></div></pre></div></figure></p>

<p>Module methods can be called using scope resolution operator (::) or dot operator (.)</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="no">Greeting</span><span class="o">::</span><span class="n">hi</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># =&gt; undefined method `hi' for Greeting:Module (NoMethodError)</span></div></div></pre></div></figure></p>

<p>It is obivous to have an error because we are calling class method and that is not present inside module.</p>

<h2>Mixins</h2>

<p>Lets include greeting module inside person class</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">Person</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="kp">include</span> <span class="no">Greeting</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">person</span> <span class="o">=</span> <span class="no">Person</span><span class="p">.</span><span class="nf">new</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">person</span><span class="p">.</span><span class="nf">hi</span> <span class="c1">#=&gt; &ldquo;Guest&rdquo;</span></div></div></pre></div></figure></p>

<p>Lets see how module methods can be defined. It can be done using either self or class_name.</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">module</span> <span class="nn">Greeting</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="c1"># here below is the instance method</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="c1"># and that can be accessed using object of class ONLY</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">def</span> <span class="nf">hi</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nb">puts</span> <span class="s1">&lsquo;Guest&rsquo;</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="c1"># Below are module methods</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="c1"># this methods can be invoked</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="c1"># using Greeting::hi</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="c1"># OR Greeting.hi</span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">hi</span>
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nb">puts</span> <span class="s1">&lsquo;hi Sandip&rsquo;</span>
</div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='14' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="c1"># here is one more way to declare</span>
</div></div><div data-line='15' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="c1"># module methods</span>
</div></div><div data-line='16' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">def</span> <span class="nc">Greeting</span><span class="o">.</span><span class="nf">bye</span>
</div></div><div data-line='17' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="nb">puts</span> <span class="s1">&lsquo;Bye Sandip!&rsquo;</span>
</div></div><div data-line='18' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='19' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<p>Lets invoke methods</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="no">Greeting</span><span class="o">::</span><span class="n">hi</span> <span class="c1">#=&gt; &ldquo;hi Sandip&rdquo;</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="no">Greeting</span><span class="p">.</span><span class="nf">bye</span> <span class="c1">#=&gt; &ldquo;Bye Sandip!&rdquo;</span></div></div></pre></div></figure></p>

<h4>Extending class behavior using modules</h4>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">class</span> <span class="nc">Person</span><br/>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">included</span><span class="p">(</span><span class="n">base</span><span class="p">)</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">base</span><span class="p">.</span><span class="nf">extend</span> <span class="no">Greeting</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="k">end</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<p>Got easy ?? Cheers!</p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2010/04/using-thinking-sphinx-search-in-rails/">using thinking sphinx search in rails app</a></h1>
    
    
      <p class="meta">
        Apr 12, 2010
        
      </p>
    
  </header>


  <div class="entry-content"><p>I am using <em>acts_as_ferret</em> and <em>ferret server</em> as of now with my rails application and it just works fine for me. The ONLY problem is <strong>performance</strong> as it takes a lot time to build index and to rebuild index when it gets screwed up and that&rsquo;s where <strong>sphinx rocks</strong>!</p>

<p>To get started with thinking sphinx you need to install sphinx server first. for installation help click here.</p>

<p>To use sphinx search in rails we need to use either thinking sphinx gem or plugin that can be easily find on github.</p>

<h2>Plugin installation</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>ruby script/plugin install  git://github.com/freelancing-god/thinking-sphinx.git</div></div></pre></div></figure></p>

<h4>OR</h4>

<h2>Gem installation</h2>

<p>To install gem run the following command.
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>gem install thinking-sphinx &ndash;source <a href="http://rubygems.org/">http://rubygems.org/</a>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>If you&rsquo;re upgrading, you should read this:
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'><a href="http://freelancing-god.github.com/ts/en/upgrading.html">http://freelancing-god.github.com/ts/en/upgrading.html</a>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>Successfully installed thinking-sphinx-1.3.16
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>1 gem installed</div></div></pre></div></figure></p>

<p>Edit environment file and add following lines to it inside initializer block.
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>config.gem(
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>     &lsquo;thinking-sphinx&rsquo;,
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>      :lib     => &lsquo;thinking_sphinx&rsquo;,
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>      :version => &lsquo;1.3.16&rsquo;
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'> )</div></div></pre></div></figure></p>

<p>Edit Rakefile and add following lines to it.</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>require &lsquo;thinking_sphinx/tasks&rsquo;</div></div></pre></div></figure></p>

<p>List rake tasks that should show up sphinx related tasks.
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>rake -T ts
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>(in /home/sandip/v1)
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>rake doc:plugins:acts_as_audited  # Generate documentation for the acts_as<em>&hellip;
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>rake doc:plugins:acts_as_ferret   # Generate documentation for the acts_as</em>&hellip;
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>rake rails:update:javascripts     # Update your javascripts from your curre&hellip;
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>rake rails:update:scripts         # Add new scripts to the application scri&hellip;
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>rake stats                        # Report code statistics (KLOCs, etc) fro&hellip;
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>rake test:units                   # Run tests for unitsdb:test:prepare / Ru&hellip;
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>rake tmp:sockets:clear            # Clears all files in tmp/sockets
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:conf                      # Generate the Sphinx configuration file &hellip;
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:config                    # Generate the Sphinx configuration file &hellip;
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:in                        # Index data for Sphinx using Thinking Sp&hellip;
</div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:rebuild                   # Stop Sphinx (if it&rsquo;s running), rebuild &hellip;
</div></div><div data-line='14' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:reindex                   # Reindex Sphinx without regenerating the&hellip;
</div></div><div data-line='15' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:restart                   # Restart Sphinx / Restart Sphinx
</div></div><div data-line='16' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:run                       # Stop if running, then start a Sphinx se&hellip;
</div></div><div data-line='17' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:start                     # Start a Sphinx searchd daemon using Thi&hellip;
</div></div><div data-line='18' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:stop                      # Stop Sphinx using Thinking Sphinx&rsquo;s set&hellip;
</div></div><div data-line='19' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:version                   # Output the current Thinking Sphinx vers&hellip;</div></div></pre></div></figure></p>

<h2>Starting Sphinx</h2>

<p>Start sphinx server this should give up an error.
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:start
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>(in /home/sandip/v1)
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>Failed to start searchd daemon. Check /home/sandip/v1/log/searchd.log.</div></div></pre></div></figure></p>

<h2>Adding indexes in models</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">define_index</span> <span class="k">do</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>     <span class="c1"># following fields are database fields</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>     <span class="c1"># we can not add model methods in sphinx index </span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>     <span class="c1"># sphinx fields allows ONLY model based associations</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>     <span class="c1"># fields</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="n">indexes</span> <span class="n">customer_name</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="n">indexes</span> <span class="n">phone</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="n">indexes</span> <span class="n">mobile</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="n">indexes</span> <span class="n">other_phone</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="n">indexes</span> <span class="n">car_make</span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="n">indexes</span> <span class="n">car_model</span>
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'>      <span class="n">indexes</span> <span class="n">registration_no</span>
</div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<h2>Configure sphinx</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:config
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>Generating Configuration to /home/sandip/v1/config/development.sphinx.conf
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>Index sphinx
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>rake ts:in
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>(in /home/sandip/v1)
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>Generating Configuration to /home/sandip/v1/config/development.sphinx.conf
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>Sphinx 0.9.8-rc2 (r1234)
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>Copyright &copy; 2001-2008, Andrew Aksyonoff
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'>using config file &lsquo;/home/sandip/v1/config/development.sphinx.conf&rsquo;&hellip;
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'>indexing index &lsquo;call_core&rsquo;&hellip;
</div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'>collected 113521 docs, 2.1 MB
</div></div><div data-line='14' class='code-highlight-row numbered'><div class='code-highlight-line'>collected 0 attr values
</div></div><div data-line='15' class='code-highlight-row numbered'><div class='code-highlight-line'>sorted 0.1 Mvalues, 100.0% done
</div></div><div data-line='16' class='code-highlight-row numbered'><div class='code-highlight-line'>sorted 0.3 Mhits, 100.0% done
</div></div><div data-line='17' class='code-highlight-row numbered'><div class='code-highlight-line'>total 113521 docs, 2114790 bytes
</div></div><div data-line='18' class='code-highlight-row numbered'><div class='code-highlight-line'>total 6.102 sec, 346589.68 bytes/sec, 18604.78 docs/sec
</div></div><div data-line='19' class='code-highlight-row numbered'><div class='code-highlight-line'>distributed index &lsquo;call&rsquo; can not be directly indexed; skipping.
</div></div><div data-line='20' class='code-highlight-row numbered'><div class='code-highlight-line'>Generating Configuration to /home/sandip/v1/config/development.sphinx.conf
</div></div><div data-line='21' class='code-highlight-row numbered'><div class='code-highlight-line'>Sphinx 0.9.8-rc2 (r1234)
</div></div><div data-line='22' class='code-highlight-row numbered'><div class='code-highlight-line'>Copyright &copy; 2001-2008, Andrew Aksyonoff
</div></div><div data-line='23' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='24' class='code-highlight-row numbered'><div class='code-highlight-line'>using config file &lsquo;/home/sandip/v1/config/development.sphinx.conf&rsquo;&hellip;
</div></div><div data-line='25' class='code-highlight-row numbered'><div class='code-highlight-line'>indexing index &lsquo;call_core&rsquo;&hellip;
</div></div><div data-line='26' class='code-highlight-row numbered'><div class='code-highlight-line'>collected 113521 docs, 2.1 MB
</div></div><div data-line='27' class='code-highlight-row numbered'><div class='code-highlight-line'>collected 0 attr values
</div></div><div data-line='28' class='code-highlight-row numbered'><div class='code-highlight-line'>sorted 0.1 Mvalues, 100.0% done
</div></div><div data-line='29' class='code-highlight-row numbered'><div class='code-highlight-line'>sorted 0.3 Mhits, 100.0% done
</div></div><div data-line='30' class='code-highlight-row numbered'><div class='code-highlight-line'>total 113521 docs, 2114790 bytes
</div></div><div data-line='31' class='code-highlight-row numbered'><div class='code-highlight-line'>total 3.628 sec, 582909.70 bytes/sec, 31290.34 docs/sec
</div></div><div data-line='32' class='code-highlight-row numbered'><div class='code-highlight-line'>distributed index &lsquo;call&rsquo; can not be directly indexed; skipping.</div></div></pre></div></figure></p>

<h2>Search using sphinx</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">ruby</span> <span class="n">script</span> <span class="n">console</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="o">&gt;&gt;</span><span class="no">Call</span><span class="p">.</span><span class="nf">search</span> <span class="s1">&lsquo;sandip&rsquo;</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="o">=&gt;</span> <span class="p">[</span><span class="c1">#&lt;call 00:00:00"=&ldquo;&rdquo; 09:22:35",=&ldquo;&rdquo; 1018,=&ldquo;&rdquo; 18:10:00",=&ldquo;&rdquo; 2009-02-10=&ldquo;&rdquo; 2009-03-27=&ldquo;&rdquo; 2009-04-07=&ldquo;&rdquo; 2009-11-18=&ldquo;&rdquo; 20:29:06",=&ldquo;&rdquo; 6,=&ldquo;&rdquo; created_at:=&ldquo;&rdquo; id:=&ldquo;&rdquo; insurance_expiry_date:=&ldquo;&rdquo; is=&ldquo;&rdquo; is_existing_customer:=&ldquo;&rdquo; nil,=&ldquo;&rdquo; note:=&ldquo;&rdquo; phone=&ldquo;&rdquo; ringing",=&ldquo;&rdquo; scheduled_at:=&ldquo;&rdquo; state_id:=&ldquo;&rdquo; station_shift_customer_car_insurance_product_id:=&ldquo;&rdquo; updated_at:=&ldquo;&rdquo;&gt;, #&lt;call 00:00:00"=&ldquo;&rdquo; 11:13:33",=&ldquo;&rdquo; 18:30:00",=&ldquo;&rdquo; 2009-02-10=&ldquo;&rdquo; 2009-02-16=&ldquo;&rdquo; 2009-04-03=&ldquo;&rdquo; 2009-11-18=&ldquo;&rdquo; 20:34:52",=&ldquo;&rdquo; 6,=&ldquo;&rdquo; 6024,=&ldquo;&rdquo; call=&ldquo;&rdquo; created",=&ldquo;&rdquo; created_at:=&ldquo;&rdquo; customer=&ldquo;&rdquo; id:=&ldquo;&rdquo; insurance_expiry_date:=&ldquo;&rdquo; is_existing_customer:=&ldquo;&rdquo; new=&ldquo;&rdquo; nil,=&ldquo;&rdquo; note:=&ldquo;&rdquo; scheduled_at:=&ldquo;&rdquo; state_id:=&ldquo;&rdquo; station_shift_customer_car_insurance_product_id:=&ldquo;&rdquo; updated_at:=&ldquo;&rdquo;&gt;] &lt;/call&gt;&lt;/call&gt;</span></div></div></pre></div></figure></p>

<p>It returns array of records found. conditions are allowed by sphinx. If you need to add conditions on integer attributes then index block in model needs to have has method like author_id in following.
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">define_index</span> <span class="k">do</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">indexes</span> <span class="n">content</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">indexes</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:sortable</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">indexes</span> <span class="n">comments</span><span class="p">.</span><span class="nf">content</span><span class="p">,</span> <span class="ss">:as</span> <span class="o">=&gt;</span> <span class="ss">:comment_content</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">indexes</span> <span class="p">[</span><span class="n">author</span><span class="p">.</span><span class="nf">first_name</span><span class="p">,</span> <span class="n">author</span><span class="p">.</span><span class="nf">last_name</span><span class="p">],</span> <span class="ss">:as</span> <span class="o">=&gt;</span> <span class="ss">:author_name</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>  <span class="n">has</span> <span class="n">author_id</span><span class="p">,</span> <span class="n">created_at</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2010/04/using-thinking-sphinx-with-rails/">Using Thinking Sphinx with rails</a></h1>
    
    
      <p class="meta">
        Apr 12, 2010
        
      </p>
    
  </header>


  <div class="entry-content"><p>Check out this SlideShare Presentation: <div style="width:825px" id="__ss_782883"><strong style="display:block;margin:12px 0 4px"><a href="http://www.slideshare.net/sazwqa/using-thinking-sphinx-with-rails-presentation" title="Using Thinking Sphinx with rails">Using Thinking Sphinx with rails</a></strong><object width="825" height="355"><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=sp4-1227528901740588-8&stripped_title=using-thinking-sphinx-with-rails-presentation" /><param name="allowFullScreen" value="true"/><param name="allowScriptAccess" value="always"/><embed src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=sp4-1227528901740588-8&stripped_title=using-thinking-sphinx-with-rails-presentation" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="825" height="355"></embed></object><div style="padding:5px 0 12px">View more <a href="http://www.slideshare.net/">presentations</a> from <a href="http://www.slideshare.net/sazwqa">saz wqa</a>.</div></div></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2010/03/aliasmethod-in-ruby/">alias methods in ruby</a></h1>
    
    
      <p class="meta">
        Mar 31, 2010
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Alias method in ruby</h2>

<p>Ruby classes provides a alias_method that can be used to reuse the existing methods.
Consider a situation where you need different methods which has same code and ONLY they have different names.</p>

<p>In this case alias_method uses suits best choice instead duplicating same code or writing common method that will get used in all methods, as i did before. Example, I have methods search, home, index all are doing same functionality.</p>

<h2>Old approach</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># URL / </span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">def</span> <span class="nf">index</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'> <span class="n">list</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># URL /search</span>
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">def</span> <span class="nf">search</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'> <span class="n">list</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1">#URL /home </span>
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">def</span> <span class="nf">home</span>
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'> <span class="n">list</span>
</div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span>
</div></div><div data-line='14' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="kp">private</span>
</div></div><div data-line='15' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">def</span> <span class="nf">list</span>
</div></div><div data-line='16' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># code here </span>
</div></div><div data-line='17' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure></p>

<h2>Correct approach in ruby</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>def index
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'> # code here
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>end
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>alias_method :home, :index
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>alias_method :search, :index </div></div></pre></div></figure></p>

<h2>Attributes aliasing in ruby</h2>

<p>Same way one can easily rename existing class attribute names using alias_attribute method.</p>

<h2>alias_attribute(new_name, old_name)</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>alias_attrinute :username, :login</div></div></pre></div></figure></p>

<h2>More practical use</h2>

<p>while deprecating attributes, methods in gems, plugins, extensions, libraries always use aliases in order to maintain backward compatibility.</p>

<p>Got easy ?? that&rsquo;s where ruby rocks !</p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2010/03/nginx-and-thin-installation/">nginx and thin installation and configuration</a></h1>
    
    
      <p class="meta">
        Mar 26, 2010
        
      </p>
    
  </header>


  <div class="entry-content"><p>Install nginx server using following command</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>apt-get install nginx</div></div></pre></div></figure></p>

<p>Edit nginx configuration and add server block inside html block.&nbsp;</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>server &#x7b;
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>    listen       80;
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>    server_name  boost;
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>    root /home/sandip/rails_app/public;
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>    location / &#x7b;
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>        proxy_set_header  X-Real-IP  $remote_addr;
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'>        proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;
</div></div><div data-line='12' class='code-highlight-row numbered'><div class='code-highlight-line'>        proxy_set_header Host $http_host;
</div></div><div data-line='13' class='code-highlight-row numbered'><div class='code-highlight-line'>        proxy_redirect off;
</div></div><div data-line='14' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='15' class='code-highlight-row numbered'><div class='code-highlight-line'>        if (-f $request_filename/index.html) &#x7b;
</div></div><div data-line='16' class='code-highlight-row numbered'><div class='code-highlight-line'>            rewrite (.<em>) $1/index.html break;
</div></div><div data-line='17' class='code-highlight-row numbered'><div class='code-highlight-line'>        &#x7d;
</div></div><div data-line='18' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='19' class='code-highlight-row numbered'><div class='code-highlight-line'>        if (-f $request_filename.html) &#x7b;
</div></div><div data-line='20' class='code-highlight-row numbered'><div class='code-highlight-line'>            rewrite (.</em>) $1.html break;
</div></div><div data-line='21' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='22' class='code-highlight-row numbered'><div class='code-highlight-line'>        &#x7d;
</div></div><div data-line='23' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='24' class='code-highlight-row numbered'><div class='code-highlight-line'>        if (!-f $request_filename) &#x7b;
</div></div><div data-line='25' class='code-highlight-row numbered'><div class='code-highlight-line'>            proxy_pass <a href="http://thin;">http://thin;</a>
</div></div><div data-line='26' class='code-highlight-row numbered'><div class='code-highlight-line'>            break;
</div></div><div data-line='27' class='code-highlight-row numbered'><div class='code-highlight-line'>        &#x7d;
</div></div><div data-line='28' class='code-highlight-row numbered'><div class='code-highlight-line'>    &#x7d;
</div></div><div data-line='29' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='30' class='code-highlight-row numbered'><div class='code-highlight-line'>    error_page   500 502 503 504  /50x.html;
</div></div><div data-line='31' class='code-highlight-row numbered'><div class='code-highlight-line'>    location = /50x.html &#x7b;
</div></div><div data-line='32' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='33' class='code-highlight-row numbered'><div class='code-highlight-line'>        root   html;
</div></div><div data-line='34' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='35' class='code-highlight-row numbered'><div class='code-highlight-line'>    &#x7d;
</div></div><div data-line='36' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='37' class='code-highlight-row numbered'><div class='code-highlight-line'>&#x7d;</div></div></pre></div></figure></p>

<h2>Install thin server as gem</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo gem install thin
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>Building native extensions.  This could take a while&hellip;
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>Building native extensions.  This could take a while&hellip;
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>Successfully installed eventmachine-0.12.10
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>Successfully installed thin-1.2.7
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>2 gems installed</div></div></pre></div></figure></p>

<h2>Install thin service</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo thin install
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>Installing thin service at /etc/init.d/thin &hellip;
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>mkdir -p /etc/init.d
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>writing /etc/init.d/thin
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>chmod +x /etc/init.d/thin
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>mkdir -p /etc/thin</div></div></pre></div></figure></p>

<h2>Configure thin to start at system boot</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo /usr/sbin/update-rc.d -f thin defaults</div></div></pre></div></figure></p>

<p>Then put your config files in /etc/thin</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo /usr/sbin/update-rc.d -f thin defaults
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>update-rc.d: warning: thin stop runlevel arguments (0 1 6) do not match LSB Default-Stop values (S 0 1 6)
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'> Adding system startup for /etc/init.d/thin &hellip;
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>   /etc/rc0.d/K20thin -&gt; ../init.d/thin
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>   /etc/rc1.d/K20thin -&gt; ../init.d/thin
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>   /etc/rc6.d/K20thin -&gt; ../init.d/thin
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>   /etc/rc2.d/S20thin -&gt; ../init.d/thin
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>   /etc/rc3.d/S20thin -&gt; ../init.d/thin
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>   /etc/rc4.d/S20thin -&gt; ../init.d/thin
</div></div><div data-line='11' class='code-highlight-row numbered'><div class='code-highlight-line'>   /etc/rc5.d/S20thin -&gt; ../init.d/thin</div></div></pre></div></figure></p>

<p>Create thin configuration</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo thin config -C /etc/thin/&lt;config-name>.yml -c &lt;rails-app-root-path> &ndash;servers &lt;number-of-threads> -e &lt;environment>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>&lt;/environment>&lt;/number-of-threads>&lt;/rails-app-root-path>&lt;/config-name></div></div></pre></div></figure></p>

<p>In my case,</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo thin config -C /etc/thin/rails_app.yml -c /home/sandip/rails_app &ndash;servers 3 -e production
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>&gt;&gt; Wrote configuration to /etc/thin/rails_app.yml</div></div></pre></div></figure></p>

<p>thin configuration file will look like</p>

<p>Start/stop/restart Nginx &amp; thin server using command</p>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo service nginx start|stop|restart
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo service thin start|stop|restart</div></div></pre></div></figure></p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2010/03/ruby-on-rails-installation-on-fresh-ubuntu/">ruby on rails installation on fresh ubuntu machine</a></h1>
    
    
      <p class="meta">
        Mar 25, 2010
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ruby On Rails Installation on fresh ubuntu machine</p>

<p>Installation steps are applicable to ubuntu versions interpid, karmic koala. Make necessary changes according to package manager provided by other linux operating systems in order install ruby and rails.</p>

<p>Before getting started to installations make sure to build essential packages on fresh ubutnu machine. Ubuntu machine has built in apt-get package manager and that i loves because it is very to use as compared to other OS.
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo apt-get install build-essential</div></div></pre></div></figure></p>

<p>Now there are many versions of ruby available including latest 1.9.2</p>

<p>But would like to prefer ruby version 1.8.7 as it is the most stable version as of now. I would like to recommend installtion of Ruby Enterprise Edition (REE) version as it is uses minimal system resources and consumes less memory.</p>

<p>Instrunctions to setup normal ruby and rails environment</p>

<h2>1. Install Ruby, Rails, MySQL, irb and neceesary packages using single command</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo apt-get install ruby ri rdoc mysql-server libmysql-ruby ruby1.8-dev irb1.8 libdbd-mysql-perl libdbi-perl libmysql-ruby1.8 libmysqlclient15off libnet-daemon-perl libplrpc-perl libreadline-ruby1.8 libruby1.8 mysql-client-5.1 mysql-common mysql-server-5.1 rdoc1.8 ri1.8 ruby1.8 irb libopenssl-ruby libopenssl-ruby1.8 libhtml-template-perl mysql-server-core-5.1 libmysqlclient16 libreadline5 psmisc</div></div></pre></div></figure></p>

<h2>2. Install ruby gems</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>wget <a href="http://rubyforge.org/frs/download.php/60718/rubygems-1.3.5.tgz">http://rubyforge.org/frs/download.php/60718/rubygems-1.3.5.tgz</a>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>tar xvzf rubygems-1.3.5.tgz
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>cd rubygems-1.3.5
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo ruby setup.rb</div></div></pre></div></figure></p>

<h2>3. Create symbolic links to installation paths</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo ln -s /usr/bin/gem1.8 /usr/local/bin/gem
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo ln -s /usr/bin/ruby1.8 /usr/local/bin/ruby
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo ln -s /usr/bin/rdoc1.8 /usr/local/bin/rdoc
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo ln -s /usr/bin/ri1.8 /usr/local/bin/ri
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo ln -s /usr/bin/irb1.8 /usr/local/bin/irb</div></div></pre></div></figure></p>

<h2>4. Setup gemrc in order to avoid rdoc installation and to setup gem sources.</h2>

<p>Add following lines to ~/.gemrc file
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>&mdash;
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>gem: &ndash;no-ri &ndash;no-rdoc
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>:benchmark: false
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>:verbose: true
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'>:backtrace: false
</div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>:update_sources: true
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>:sources:
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>- <a href="http://gems.rubyforge.org">http://gems.rubyforge.org</a>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>- <a href="http://gems.github.com">http://gems.github.com</a>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'>:bulk_threshold: 1000</div></div></pre></div></figure></p>

<h2>5. Install rails</h2>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>sudo gem install rails &ndash;no-rdoc &ndash;no-ri</div></div></pre></div></figure></p>

<h2>Ruby Enterprise Edition i.e. REE (ruby 1.8.7) Installation</h2>

<p>This will install ruby, rails, mysql, nginx and passenger</p>

<h4>1. Download REE setup and install it</h4>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>wget <a href="http://rubyforge.org/frs/download.php/68719/ruby-enterprise-1.8.7-2010.01.tar.gz">http://rubyforge.org/frs/download.php/68719/ruby-enterprise-1.8.7-2010.01.tar.gz</a> /opt/ruby
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>cd /opt
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>./ruby/installer</div></div></pre></div></figure></p>

<h4>2. Add ruby inside path</h4>

<p><figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>vi ~/.bashrc
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'># Add following line at the end of file
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>export PATH=/opt/ruby/bin:$PATH</div></div></pre></div></figure></p>

<p>Thanks to @vwadhwani!</p>
</div>
    </article>
  
  
    <article>
      <header>
    
      <h1 class="entry-title"><a href="/2010/03/download-rails-api-to-work-offline/">Download Rails API to work offline</a></h1>
    
    
      <p class="meta">
        Mar 23, 2010
        
      </p>
    
  </header>


  <div class="entry-content"><p>We often need rails API help while working without internet connection.</p>

<p>Below command can be used to <a href="http://github.com/sandipransing/rails_api">download/copy</a> rails api to work locally(offline) mode
<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'>wget -mk www.api.rubyonrails.org</div></div></pre></div></figure></p>

<p>For more information on this click <a href="http://github.com/sandipransing/rails_api">here</a></p>
</div>
    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/9/">&larr; Older</a>
    
    <a href="/archives/">Blog Archives</a>
    
    <a class="next" href="/page/7/">Newer &rarr;</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2009 - 2016 - sandipransing -
  <span class="credit">Powered by <a href="http://octopress.org" target='_blank'>Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace" target='_blank'>Whitespace</a></span>
</p></footer>
  <script type="text/javascript">
      var disqus_shortname = 'funonrails';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>

<script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>
<script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>
</body>
</html>
